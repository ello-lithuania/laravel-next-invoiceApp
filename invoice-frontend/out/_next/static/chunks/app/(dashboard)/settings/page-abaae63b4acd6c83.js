(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{6471:function(e,t,r){Promise.resolve().then(r.bind(r,6480))},6480:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(7437),a=r(2265),o=r(6264);function l(){let[e,t]=(0,a.useState)("dark"),[r,l]=(0,a.useState)(!1),[n,i]=(0,a.useState)(""),[d,c]=(0,a.useState)({current_password:"",password:"",password_confirmation:""});(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");e&&(t(e),document.documentElement.classList.toggle("light","light"===e))},[]);let h=e=>{t(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("light","light"===e)},u=async e=>{if(e.preventDefault(),d.password!==d.password_confirmation){i("Passwords do not match");return}l(!0),i("");try{await (0,o.hi)("/password",{method:"PUT",body:JSON.stringify(d)}),i("Password changed successfully!"),c({current_password:"",password:"",password_confirmation:""})}catch(e){i(e.message||"Error changing password")}l(!1)};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white dark:text-white light:text-slate-900 mb-2",children:"Settings"}),(0,s.jsx)("p",{className:"text-slate-400 dark:text-slate-400 light:text-slate-600",children:"Manage your account settings"})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-slate-900 dark:bg-slate-900 light:bg-white border border-slate-800 dark:border-slate-800 light:border-slate-200 rounded-2xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white dark:text-white light:text-slate-900 mb-6",children:"Appearance"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 dark:text-slate-400 light:text-slate-600 text-sm mb-3",children:"Theme"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>h("dark"),className:"p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ".concat("dark"===e?"border-blue-500 bg-blue-500/10":"border-slate-700 dark:border-slate-700 light:border-slate-200 hover:border-slate-600"),children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-slate-800 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),(0,s.jsx)("span",{className:"text-white dark:text-white light:text-slate-900 font-medium",children:"Dark"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>h("light"),className:"p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ".concat("light"===e?"border-blue-500 bg-blue-500/10":"border-slate-700 dark:border-slate-700 light:border-slate-200 hover:border-slate-600"),children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,s.jsx)("span",{className:"text-white dark:text-white light:text-slate-900 font-medium",children:"Light"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-900 dark:bg-slate-900 light:bg-white border border-slate-800 dark:border-slate-800 light:border-slate-200 rounded-2xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white dark:text-white light:text-slate-900 mb-6",children:"Change Password"}),n&&(0,s.jsxs)("div",{className:"p-4 rounded-xl mb-6 flex items-center gap-3 ".concat(n.includes("Error")||n.includes("match")?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-green-500/20 text-green-400 border border-green-500/30"),children:[(0,s.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.includes("Error")||n.includes("match")?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]}),(0,s.jsxs)("form",{onSubmit:u,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 dark:text-slate-400 light:text-slate-600 text-sm mb-2",children:"Current Password"}),(0,s.jsx)("input",{type:"password",value:d.current_password,onChange:e=>c({...d,current_password:e.target.value}),className:"w-full p-3 bg-slate-800 dark:bg-slate-800 light:bg-slate-100 border border-slate-700 dark:border-slate-700 light:border-slate-300 rounded-xl text-white dark:text-white light:text-slate-900 focus:border-blue-500 focus:outline-none transition-colors",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 dark:text-slate-400 light:text-slate-600 text-sm mb-2",children:"New Password"}),(0,s.jsx)("input",{type:"password",value:d.password,onChange:e=>c({...d,password:e.target.value}),className:"w-full p-3 bg-slate-800 dark:bg-slate-800 light:bg-slate-100 border border-slate-700 dark:border-slate-700 light:border-slate-300 rounded-xl text-white dark:text-white light:text-slate-900 focus:border-blue-500 focus:outline-none transition-colors",required:!0,minLength:8})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 dark:text-slate-400 light:text-slate-600 text-sm mb-2",children:"Confirm New Password"}),(0,s.jsx)("input",{type:"password",value:d.password_confirmation,onChange:e=>c({...d,password_confirmation:e.target.value}),className:"w-full p-3 bg-slate-800 dark:bg-slate-800 light:bg-slate-100 border border-slate-700 dark:border-slate-700 light:border-slate-300 rounded-xl text-white dark:text-white light:text-slate-900 focus:border-blue-500 focus:outline-none transition-colors",required:!0,minLength:8})]})]}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"mt-6 bg-gradient-to-r from-blue-500 to-cyan-400 text-white px-8 py-3 rounded-xl font-medium hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center gap-2",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Change Password"]})})]})]})]})]})}},6264:function(e,t,r){"use strict";r.d(t,{Ef:function(){return i},I8:function(){return o},N5:function(){return l},hi:function(){return a},lw:function(){return c},ot:function(){return d},yj:function(){return n}});let s="http://localhost:8000/api";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("token"),a={headers:{"Content-Type":"application/json",Accept:"application/json",...r&&{Authorization:"Bearer ".concat(r)},...t.headers},...t},o=await fetch("".concat(s).concat(e),a);if(401===o.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");let l=await o.json();if(!o.ok)throw Error(l.message||"Something went wrong");return l}let o={register:e=>a("/register",{method:"POST",body:JSON.stringify(e)}),login:e=>a("/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>a("/logout",{method:"POST"}),user:()=>a("/user")},l={get:()=>a("/profile"),update:e=>a("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadSignature:async e=>{let t=localStorage.getItem("token"),r=new FormData;r.append("signature",e);let a=await fetch("".concat(s,"/profile/signature"),{method:"POST",headers:{Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:r});if(!a.ok)throw Error((await a.json()).message||"Upload failed");return a.json()},deleteSignature:()=>a("/profile/signature",{method:"DELETE"})},n={list:()=>a("/clients"),get:e=>a("/clients/".concat(e)),create:e=>a("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>a("/clients/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>a("/clients/".concat(e),{method:"DELETE"})},i={list:()=>a("/invoices"),listPaginated:e=>a("/invoices?".concat(e)),get:e=>a("/invoices/".concat(e)),create:e=>a("/invoices",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>a("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>a("/invoices/".concat(e),{method:"DELETE"}),pdf:e=>"".concat(s,"/invoices/").concat(e,"/pdf?token=").concat(localStorage.getItem("token"))},d={get:e=>a("/stats?period=".concat(e))},c={list:()=>a("/activity")}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6471)}),_N_E=e.O()}]);