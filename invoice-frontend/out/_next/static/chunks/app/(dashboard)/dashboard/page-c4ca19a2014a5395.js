(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{3640:function(e,t,s){Promise.resolve().then(s.bind(s,5188))},5188:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),r=s(2265),n=s(7138),l=s(6264),i=s(6856),o=s(7023),c=s(4142),d=s(2842),h=s(9542),x=s(7896),m=s(1744);let u=[{value:"1m",label:"This Month"},{value:"3m",label:"3 Months"},{value:"6m",label:"6 Months"},{value:"9m",label:"9 Months"},{value:"1y",label:"This Year"}];function p(){let[e,t]=(0,r.useState)(""),[s,p]=(0,r.useState)(null),[f,j]=(0,r.useState)([]),[v,g]=(0,r.useState)("1m"),[b,N]=(0,r.useState)(!0);(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{y()},[v]);let w=async()=>{try{let[e,s]=await Promise.all([l.N5.get(),l.lw.list()]);t(e.name),j(s)}catch(e){}N(!1)},y=async()=>{try{let e=await l.ot.get(v);p(e)}catch(e){}},k=e=>new Intl.NumberFormat("lt-LT",{style:"currency",currency:"EUR"}).format(e),S=e=>{if(10===e.length)return new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short"});let[t,s]=e.split("-");return new Date(parseInt(t),parseInt(s)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})};return b?(0,a.jsx)("div",{className:"text-white p-8",children:"Loading..."}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-slate-400",children:["Welcome back, ",e]})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Invoice Statistics"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>(0,a.jsx)("button",{onClick:()=>g(e.value),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(v===e.value?"bg-gradient-to-r from-blue-500 to-cyan-400 text-white":"bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700"),children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Invoices"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:(null==s?void 0:s.summary.total_invoices)||0})]})]})}),(0,a.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Amount"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:k((null==s?void 0:s.summary.total_amount)||0)})]})]})})]}),(null==s?void 0:s.chart)&&s.chart.length>0?(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(i.h,{width:"100%",height:"100%",children:(0,a.jsxs)(o.v,{data:s.chart.map(e=>({...e,label:S(e.date||e.month)})),children:[(0,a.jsx)(c.q,{strokeDasharray:"3 3",stroke:"#334155"}),(0,a.jsx)(d.K,{dataKey:"label",stroke:"#94a3b8",fontSize:12}),(0,a.jsx)(h.B,{stroke:"#94a3b8",fontSize:12}),(0,a.jsx)(x.u,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},labelStyle:{color:"#fff"},formatter:e=>[k(e),"Amount"]}),(0,a.jsx)(m.$Q,{dataKey:"total",name:"Amount",fill:"#22d3ee",radius:[4,4,0,0]})]})})}):(0,a.jsx)("div",{className:"h-80 flex items-center justify-center text-slate-500",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,a.jsx)("p",{children:"No invoice data for this period"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Create your first invoice to see statistics"})]})})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n.default,{href:"/invoices/new",className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700 rounded-xl hover:bg-slate-800 hover:border-slate-600 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"New Invoice"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Create a new invoice"})]})]}),(0,a.jsxs)(n.default,{href:"/clients",className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700 rounded-xl hover:bg-slate-800 hover:border-slate-600 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Add Client"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Add a new client"})]})]}),(0,a.jsxs)(n.default,{href:"/invoices",className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700 rounded-xl hover:bg-slate-800 hover:border-slate-600 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"View Invoices"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"See all invoices"})]})]}),(0,a.jsxs)(n.default,{href:"/profile",className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700 rounded-xl hover:bg-slate-800 hover:border-slate-600 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"My Profile"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Update seller details"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Activity"}),0===f.length?(0,a.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,a.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("p",{className:"text-sm",children:"No recent activity"})]}):(0,a.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>(0,a.jsxs)(n.default,{href:"client"===e.type?"/clients/edit?id=".concat(e.id):"/invoices/edit?id=".concat(e.id),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-800/50 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat("client"===e.type?"bg-purple-500/20":"bg-green-500/20"),children:"client"===e.type?(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}):(0,a.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-white font-medium truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:["client"===e.type?"New client":e.subtitle,e.total&&" â€¢ ".concat(e.total," EUR")]})]}),(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:new Date(e.date).toLocaleDateString("lt-LT")})]},"".concat(e.type,"-").concat(e.id)))})]})]})]})]})}},6264:function(e,t,s){"use strict";s.d(t,{Ef:function(){return o},I8:function(){return n},N5:function(){return l},hi:function(){return r},lw:function(){return d},ot:function(){return c},yj:function(){return i}});let a="http://localhost:8000/api";async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=localStorage.getItem("token"),r={headers:{"Content-Type":"application/json",Accept:"application/json",...s&&{Authorization:"Bearer ".concat(s)},...t.headers},...t},n=await fetch("".concat(a).concat(e),r);if(401===n.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");let l=await n.json();if(!n.ok)throw Error(l.message||"Something went wrong");return l}let n={register:e=>r("/register",{method:"POST",body:JSON.stringify(e)}),login:e=>r("/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>r("/logout",{method:"POST"}),user:()=>r("/user")},l={get:()=>r("/profile"),update:e=>r("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadSignature:async e=>{let t=localStorage.getItem("token"),s=new FormData;s.append("signature",e);let r=await fetch("".concat(a,"/profile/signature"),{method:"POST",headers:{Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:s});if(!r.ok)throw Error((await r.json()).message||"Upload failed");return r.json()},deleteSignature:()=>r("/profile/signature",{method:"DELETE"})},i={list:()=>r("/clients"),get:e=>r("/clients/".concat(e)),create:e=>r("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>r("/clients/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>r("/clients/".concat(e),{method:"DELETE"})},o={list:()=>r("/invoices"),listPaginated:e=>r("/invoices?".concat(e)),get:e=>r("/invoices/".concat(e)),create:e=>r("/invoices",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>r("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>r("/invoices/".concat(e),{method:"DELETE"}),pdf:e=>"".concat(a,"/invoices/").concat(e,"/pdf?token=").concat(localStorage.getItem("token"))},c={get:e=>r("/stats?period=".concat(e))},d={list:()=>r("/activity")}}},function(e){e.O(0,[138,999,971,23,744],function(){return e(e.s=3640)}),_N_E=e.O()}]);