(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{9663:function(e,t,s){Promise.resolve().then(s.bind(s,5004))},5004:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var n=s(7437),a=s(2265),i=s(7138),o=s(6264);function r(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await o.yj.list();t(e)}catch(e){}r(!1)},l=async e=>{confirm("Delete this client?")&&(await o.yj.delete(e),c())};return s?(0,n.jsx)("div",{className:"text-white p-8",children:"Loading..."}):(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Clients"}),(0,n.jsx)("p",{className:"text-slate-400",children:"Manage your clients and their details"})]}),(0,n.jsxs)(i.default,{href:"/clients/new",className:"px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 bg-gradient-to-r from-blue-500 to-cyan-400 text-white hover:opacity-90",children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Client"]})]}),(0,n.jsx)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-slate-800",children:[(0,n.jsx)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium",children:"Name"}),(0,n.jsx)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium",children:"Company Code"}),(0,n.jsx)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium",children:"Address"}),(0,n.jsx)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium",children:"Notes"}),(0,n.jsx)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:0===e.length?(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center",children:(0,n.jsxs)("div",{className:"text-slate-500",children:[(0,n.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,n.jsx)("p",{children:"No clients yet"}),(0,n.jsx)("p",{className:"text-sm mt-1",children:"Add your first client to get started"})]})})}):e.map(e=>(0,n.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-800/50 transition-colors",children:[(0,n.jsx)("td",{className:"px-6 py-4 text-white",children:e.name}),(0,n.jsx)("td",{className:"px-6 py-4 text-slate-300",children:e.company_code}),(0,n.jsx)("td",{className:"px-6 py-4 text-slate-300",children:e.address}),(0,n.jsx)("td",{className:"px-6 py-4 text-slate-400 text-sm max-w-xs truncate",children:e.notes}),(0,n.jsxs)("td",{className:"px-6 py-4",children:[(0,n.jsx)(i.default,{href:"/clients/edit?id=".concat(e.id),className:"text-blue-400 hover:text-blue-300 mr-4 transition-colors",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>l(e.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},e.id))})]})})]})}},6264:function(e,t,s){"use strict";s.d(t,{Ef:function(){return c},I8:function(){return i},N5:function(){return o},hi:function(){return a},lw:function(){return d},ot:function(){return l},yj:function(){return r}});let n="http://localhost:8000/api";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=localStorage.getItem("token"),a={headers:{"Content-Type":"application/json",Accept:"application/json",...s&&{Authorization:"Bearer ".concat(s)},...t.headers},...t},i=await fetch("".concat(n).concat(e),a);if(401===i.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");let o=await i.json();if(!i.ok)throw Error(o.message||"Something went wrong");return o}let i={register:e=>a("/register",{method:"POST",body:JSON.stringify(e)}),login:e=>a("/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>a("/logout",{method:"POST"}),user:()=>a("/user")},o={get:()=>a("/profile"),update:e=>a("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadSignature:async e=>{let t=localStorage.getItem("token"),s=new FormData;s.append("signature",e);let a=await fetch("".concat(n,"/profile/signature"),{method:"POST",headers:{Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:s});if(!a.ok)throw Error((await a.json()).message||"Upload failed");return a.json()},deleteSignature:()=>a("/profile/signature",{method:"DELETE"})},r={list:()=>a("/clients"),get:e=>a("/clients/".concat(e)),create:e=>a("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>a("/clients/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>a("/clients/".concat(e),{method:"DELETE"})},c={list:()=>a("/invoices"),listPaginated:e=>a("/invoices?".concat(e)),get:e=>a("/invoices/".concat(e)),create:e=>a("/invoices",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>a("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>a("/invoices/".concat(e),{method:"DELETE"}),pdf:e=>"".concat(n,"/invoices/").concat(e,"/pdf?token=").concat(localStorage.getItem("token"))},l={get:e=>a("/stats?period=".concat(e))},d={list:()=>a("/activity")}}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=9663)}),_N_E=e.O()}]);