(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{2051:function(e,t,o){Promise.resolve().then(o.bind(o,896))},896:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return i}});var s=o(7437),n=o(2265),a=o(6463),r=o(7138),l=o(6264);function i(){let e=(0,a.useRouter)(),[t,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)({name:"",company_code:"",vat_code:"",address:"",phone:"",email:"",notes:""}),d=async t=>{t.preventDefault(),o(!0);try{await l.yj.create(i),e.push("/clients")}catch(e){}o(!1)};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(r.default,{href:"/clients",className:"text-slate-400 hover:text-white transition-colors",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"New Client"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Add a new client to your list"})]})]}),(0,s.jsx)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:(0,s.jsxs)("form",{onSubmit:d,children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Name *"}),(0,s.jsx)("input",{type:"text",value:i.name,onChange:e=>c({...i,name:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Company Code"}),(0,s.jsx)("input",{type:"text",value:i.company_code,onChange:e=>c({...i,company_code:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"VAT Code"}),(0,s.jsx)("input",{type:"text",value:i.vat_code,onChange:e=>c({...i,vat_code:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Address"}),(0,s.jsx)("input",{type:"text",value:i.address,onChange:e=>c({...i,address:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Phone"}),(0,s.jsx)("input",{type:"text",value:i.phone,onChange:e=>c({...i,phone:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:i.email,onChange:e=>c({...i,email:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Internal Notes"}),(0,s.jsx)("textarea",{value:i.notes,onChange:e=>c({...i,notes:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",rows:3,placeholder:"Contact person, FB link, etc. (not shown on invoice)"}),(0,s.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"This information is for your reference only and will not appear on invoices"})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex gap-4",children:[(0,s.jsx)("button",{type:"submit",disabled:t,className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white px-8 py-3 rounded-xl font-medium hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center gap-2",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Create Client"]})}),(0,s.jsx)(r.default,{href:"/clients",className:"px-8 py-3 rounded-xl font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-colors",children:"Cancel"})]})]})})]})}},6264:function(e,t,o){"use strict";o.d(t,{Ef:function(){return i},I8:function(){return a},N5:function(){return r},hi:function(){return n},lw:function(){return d},ot:function(){return c},yj:function(){return l}});let s="http://localhost:8000/api";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=localStorage.getItem("token"),n={headers:{"Content-Type":"application/json",Accept:"application/json",...o&&{Authorization:"Bearer ".concat(o)},...t.headers},...t},a=await fetch("".concat(s).concat(e),n);if(401===a.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");let r=await a.json();if(!a.ok)throw Error(r.message||"Something went wrong");return r}let a={register:e=>n("/register",{method:"POST",body:JSON.stringify(e)}),login:e=>n("/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>n("/logout",{method:"POST"}),user:()=>n("/user")},r={get:()=>n("/profile"),update:e=>n("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadSignature:async e=>{let t=localStorage.getItem("token"),o=new FormData;o.append("signature",e);let n=await fetch("".concat(s,"/profile/signature"),{method:"POST",headers:{Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:o});if(!n.ok)throw Error((await n.json()).message||"Upload failed");return n.json()},deleteSignature:()=>n("/profile/signature",{method:"DELETE"})},l={list:()=>n("/clients"),get:e=>n("/clients/".concat(e)),create:e=>n("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>n("/clients/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>n("/clients/".concat(e),{method:"DELETE"})},i={list:()=>n("/invoices"),listPaginated:e=>n("/invoices?".concat(e)),get:e=>n("/invoices/".concat(e)),create:e=>n("/invoices",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>n("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>n("/invoices/".concat(e),{method:"DELETE"}),pdf:e=>"".concat(s,"/invoices/").concat(e,"/pdf?token=").concat(localStorage.getItem("token"))},c={get:e=>n("/stats?period=".concat(e))},d={list:()=>n("/activity")}},6463:function(e,t,o){"use strict";var s=o(1169);o.o(s,"usePathname")&&o.d(t,{usePathname:function(){return s.usePathname}}),o.o(s,"useRouter")&&o.d(t,{useRouter:function(){return s.useRouter}}),o.o(s,"useSearchParams")&&o.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=2051)}),_N_E=e.O()}]);