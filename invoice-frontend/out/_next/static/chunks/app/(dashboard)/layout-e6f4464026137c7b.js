(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{2391:function(e,t,s){Promise.resolve().then(s.bind(s,6051))},6051:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437),n=s(2265),o=s(6463),i=s(7138),a=s(6264);function l(){var e,t;let s=(0,o.usePathname)(),l=(0,o.useRouter)(),[c,d]=(0,n.useState)(null),[h,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{let e=await a.I8.user();d(e)}catch(e){l.push("/login")}})()},[l]);let x=async()=>{try{await a.I8.logout()}catch(e){}localStorage.removeItem("token"),l.push("/login")};return(0,r.jsx)("header",{className:"bg-slate-900 border-b border-slate-800 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center gap-8",children:[(0,r.jsxs)(i.default,{href:"/dashboard",className:"flex items-center gap-3 group",children:[(0,r.jsx)("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsx)("span",{className:"text-xl font-bold text-white hidden sm:block",children:"InvoiceApp"})]}),(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:[{href:"/clients",label:"Clients",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},{href:"/invoices",label:"Invoices",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}].map(e=>(0,r.jsxs)(i.default,{href:e.href,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(s===e.href?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"),children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e.icon})}),e.label]},e.href))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(i.default,{href:"/invoices/new",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-blue-500 to-cyan-400 text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition-opacity",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Invoice"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>u(!h),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-slate-800 transition-colors",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full flex items-center justify-center text-white text-sm font-bold",children:(null==c?void 0:null===(t=c.name)||void 0===t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())||"?"}),(0,r.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:(null==c?void 0:c.name)||"Loading..."}),(0,r.jsx)("div",{className:"text-xs text-slate-400",children:(null==c?void 0:c.email)||""})]}),(0,r.jsx)("svg",{className:"w-4 h-4 text-slate-400 hidden sm:block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-xl shadow-xl z-20 py-2",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-slate-700 sm:hidden",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:null==c?void 0:c.name}),(0,r.jsx)("div",{className:"text-xs text-slate-400",children:null==c?void 0:c.email})]}),(0,r.jsxs)(i.default,{href:"/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-300 hover:bg-slate-700 hover:text-white transition-colors",onClick:()=>u(!1),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Profile"]}),(0,r.jsxs)(i.default,{href:"/settings",className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-300 hover:bg-slate-700 hover:text-white transition-colors",onClick:()=>u(!1),children:[(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,r.jsx)("div",{className:"border-t border-slate-700 mt-2 pt-2",children:(0,r.jsxs)("button",{onClick:x,className:"flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:bg-slate-700 hover:text-red-300 transition-colors w-full",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]}),(0,r.jsx)("button",{className:"md:hidden p-2 text-slate-400 hover:text-white",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})})})}var c=s(9582);function d(){let e=(0,n.useRef)(null),t=(0,n.useRef)(null),s=(0,n.useRef)([]),o=(0,n.useRef)(null),i=(0,n.useRef)([]),[a,l]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{l("light"===localStorage.getItem("theme"))},[]),(0,n.useEffect)(()=>{let r=c.ZP.context(()=>{let e=c.ZP.timeline({repeat:-1});c.ZP.set(s.current,{scaleX:0,transformOrigin:"left center"}),c.ZP.set(o.current,{scale:0,transformOrigin:"center center",opacity:0}),c.ZP.set(i.current,{y:-20,opacity:0}),e.to(t.current,{y:-8,duration:.4,ease:"power2.out"}).to(s.current,{scaleX:1,duration:.3,stagger:.1,ease:"power2.out"},"-=0.2").to(o.current,{scale:1,opacity:1,duration:.3,ease:"back.out(1.7)"}).to(i.current,{y:0,opacity:1,duration:.4,stagger:.08,ease:"bounce.out"},"-=0.1").to(i.current,{y:30,opacity:0,duration:.3,stagger:.05,ease:"power2.in"},"+=0.3").to(o.current,{scale:0,opacity:0,duration:.2,ease:"power2.in"},"-=0.2").to(s.current,{scaleX:0,duration:.2,stagger:.05,ease:"power2.in"},"-=0.1").to(t.current,{y:0,duration:.3,ease:"power2.inOut"},"-=0.1").to({},{duration:.3})},e);return()=>r.revert()},[]),(0,r.jsx)("div",{ref:e,className:"fixed inset-0 flex items-center justify-center z-50 ".concat(a?"bg-slate-100":"bg-slate-950"),children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("svg",{ref:t,width:"80",height:"100",viewBox:"0 0 80 100",fill:"none",className:"drop-shadow-2xl",children:[(0,r.jsx)("rect",{x:"4",y:"4",width:"72",height:"92",rx:"8",fill:a?"url(#invoiceGradientLight)":"url(#invoiceGradient)",stroke:"url(#borderGradient)",strokeWidth:"2"}),(0,r.jsx)("rect",{x:"16",y:"20",width:"32",height:"6",rx:"3",fill:a?"#cbd5e1":"#1e293b",opacity:"0.5"}),(0,r.jsx)("rect",{ref:e=>{s.current[0]=e},x:"16",y:"36",width:"48",height:"4",rx:"2",fill:"#3b82f6"}),(0,r.jsx)("rect",{ref:e=>{s.current[1]=e},x:"16",y:"48",width:"40",height:"4",rx:"2",fill:"#3b82f6",opacity:"0.7"}),(0,r.jsx)("rect",{ref:e=>{s.current[2]=e},x:"16",y:"60",width:"44",height:"4",rx:"2",fill:"#3b82f6",opacity:"0.5"}),(0,r.jsx)("rect",{x:"16",y:"76",width:"24",height:"6",rx:"3",fill:"#22d3ee",opacity:"0.8"}),(0,r.jsx)("rect",{x:"44",y:"76",width:"20",height:"6",rx:"3",fill:"#22d3ee"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"invoiceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#0f172a"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#1e293b"})]}),(0,r.jsxs)("linearGradient",{id:"invoiceGradientLight",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#ffffff"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#f1f5f9"})]}),(0,r.jsxs)("linearGradient",{id:"borderGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#3b82f6"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#22d3ee"})]})]})]}),(0,r.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",className:"absolute -right-2 -top-2",children:[(0,r.jsx)("circle",{cx:"16",cy:"16",r:"14",fill:"#22c55e",opacity:"0.2"}),(0,r.jsx)("path",{ref:o,d:"M10 16l4 4 8-8",stroke:"#22c55e",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),(0,r.jsxs)("svg",{width:"60",height:"40",viewBox:"0 0 60 40",className:"absolute -right-6 bottom-4",children:[(0,r.jsx)("circle",{ref:e=>{i.current[0]=e},cx:"15",cy:"20",r:"10",fill:"#fbbf24",stroke:"#f59e0b",strokeWidth:"2"}),(0,r.jsx)("circle",{ref:e=>{i.current[1]=e},cx:"30",cy:"20",r:"10",fill:"#fbbf24",stroke:"#f59e0b",strokeWidth:"2"}),(0,r.jsx)("circle",{ref:e=>{i.current[2]=e},cx:"45",cy:"20",r:"10",fill:"#fbbf24",stroke:"#f59e0b",strokeWidth:"2"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("p",{className:"font-medium text-lg ".concat(a?"text-slate-900":"text-white"),children:"Loading"}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,r.jsx)("span",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,r.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})}function h(e){let{children:t}=e,[s,i]=(0,n.useState)(!1),a=(0,o.usePathname)(),c=(0,n.useRef)(!0);return((0,n.useEffect)(()=>{if(c.current){c.current=!1;return}i(!0);let e=setTimeout(()=>i(!1),600);return()=>clearTimeout(e)},[a]),s)?(0,r.jsx)(d,{}):(0,r.jsxs)("div",{className:"min-h-screen bg-slate-950",children:[(0,r.jsx)(l,{}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:t})]})}},6264:function(e,t,s){"use strict";s.d(t,{Ef:function(){return l},I8:function(){return o},N5:function(){return i},hi:function(){return n},lw:function(){return d},ot:function(){return c},yj:function(){return a}});let r="http://localhost:8000/api";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=localStorage.getItem("token"),n={headers:{"Content-Type":"application/json",Accept:"application/json",...s&&{Authorization:"Bearer ".concat(s)},...t.headers},...t},o=await fetch("".concat(r).concat(e),n);if(401===o.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");let i=await o.json();if(!o.ok)throw Error(i.message||"Something went wrong");return i}let o={register:e=>n("/register",{method:"POST",body:JSON.stringify(e)}),login:e=>n("/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>n("/logout",{method:"POST"}),user:()=>n("/user")},i={get:()=>n("/profile"),update:e=>n("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadSignature:async e=>{let t=localStorage.getItem("token"),s=new FormData;s.append("signature",e);let n=await fetch("".concat(r,"/profile/signature"),{method:"POST",headers:{Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:s});if(!n.ok)throw Error((await n.json()).message||"Upload failed");return n.json()},deleteSignature:()=>n("/profile/signature",{method:"DELETE"})},a={list:()=>n("/clients"),get:e=>n("/clients/".concat(e)),create:e=>n("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>n("/clients/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>n("/clients/".concat(e),{method:"DELETE"})},l={list:()=>n("/invoices"),listPaginated:e=>n("/invoices?".concat(e)),get:e=>n("/invoices/".concat(e)),create:e=>n("/invoices",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>n("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>n("/invoices/".concat(e),{method:"DELETE"}),pdf:e=>"".concat(r,"/invoices/").concat(e,"/pdf?token=").concat(localStorage.getItem("token"))},c={get:e=>n("/stats?period=".concat(e))},d={list:()=>n("/activity")}},6463:function(e,t,s){"use strict";var r=s(1169);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[922,138,582,971,23,744],function(){return e(e.s=2391)}),_N_E=e.O()}]);