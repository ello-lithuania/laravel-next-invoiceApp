(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{2577:function(e,t,s){Promise.resolve().then(s.bind(s,9106))},9106:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var l=s(7437),a=s(2265),n=s(6264);function r(){var e,t;let[s,r]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[b,p]=(0,a.useState)(null),g=(0,a.useRef)(null);(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await n.N5.get();r(e)}catch(e){}o(!1)},f=async e=>{e.preventDefault(),d(!0),x("");try{let e=await n.N5.update(s);r(e),x("Profile saved successfully!"),setTimeout(()=>x(""),3e3)}catch(e){x("Error saving profile")}d(!1)},j=async e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){if(!s.type.includes("png")){x("Only PNG files allowed"),setTimeout(()=>x(""),3e3);return}p(URL.createObjectURL(s)),h(!0);try{let e=await n.N5.uploadSignature(s);r(t=>t?{...t,signature:e.signature,signature_url:e.signature_url}:null),p(e.signature_url),x("Signature uploaded!"),setTimeout(()=>x(""),3e3)}catch(e){x("Error uploading signature"),p(null),setTimeout(()=>x(""),3e3)}h(!1),g.current&&(g.current.value="")}},N=async()=>{if(confirm("Are you sure you want to delete the signature?"))try{await n.N5.deleteSignature(),r(e=>e?{...e,signature:void 0,signature_url:void 0}:null),p(null),x("Signature deleted"),setTimeout(()=>x(""),3e3)}catch(e){x("Error deleting signature"),setTimeout(()=>x(""),3e3)}};return i?(0,l.jsx)("div",{className:"text-white p-8",children:"Loading..."}):(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Profile"}),(0,l.jsx)("p",{className:"text-slate-400",children:"Manage your seller details and invoice settings"})]}),(0,l.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Seller Details"}),u&&(0,l.jsxs)("div",{className:"p-4 rounded-xl mb-6 flex items-center gap-3 ".concat(u.includes("Error")?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-green-500/20 text-green-400 border border-green-500/30"),children:[(0,l.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.includes("Error")?(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}):(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u]}),(0,l.jsxs)("form",{onSubmit:f,children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Name / Company Name *"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.name)||"",onChange:e=>r({...s,name:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Email"}),(0,l.jsx)("input",{type:"email",value:(null==s?void 0:s.email)||"",disabled:!0,className:"w-full p-3 bg-slate-800/50 border border-slate-700 rounded-xl text-slate-500 cursor-not-allowed"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Company Code / Certificate Nr."}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.company_code)||"",onChange:e=>r({...s,company_code:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., 1060539"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"VAT Code"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.vat_code)||"",onChange:e=>r({...s,vat_code:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., LT100001234567"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Address"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.address)||"",onChange:e=>r({...s,address:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., Gedimino pr. 1, Vilnius"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Phone"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.phone)||"",onChange:e=>r({...s,phone:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., +370 600 00000"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Website"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.website)||"",onChange:e=>r({...s,website:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., www.example.com"})]})]}),(0,l.jsxs)("div",{className:"border-t border-slate-800 mt-8 pt-8",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Bank Details"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Bank Name"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.bank_name)||"",onChange:e=>r({...s,bank_name:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., Swedbank"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Bank Account (IBAN)"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.bank_account)||"",onChange:e=>r({...s,bank_account:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., LT737300010120429092"})]})]})]}),(0,l.jsxs)("div",{className:"border-t border-slate-800 mt-8 pt-8",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Invoice Settings"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Invoice Series"}),(0,l.jsx)("input",{type:"text",value:(null==s?void 0:s.invoice_series)||"",onChange:e=>r({...s,invoice_series:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., INV or 2FDP"}),(0,l.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"This prefix will be used for your invoice numbers"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-slate-400 text-sm mb-2",children:"Next Invoice Number"}),(0,l.jsx)("input",{type:"number",min:"1",value:(null==s?void 0:s.next_invoice_number)||1,onChange:e=>r({...s,next_invoice_number:parseInt(e.target.value)||1}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",placeholder:"e.g., 1"}),(0,l.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"The number that will be assigned to your next invoice"})]})]})]}),(0,l.jsxs)("div",{className:"border-t border-slate-800 mt-8 pt-8",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Signature"}),(0,l.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Upload your signature PNG file. It will be displayed on invoices."}),(0,l.jsxs)("div",{className:"flex items-start gap-6",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("input",{ref:g,type:"file",accept:"image/png",onChange:j,className:"hidden",id:"signature-upload"}),(0,l.jsx)("label",{htmlFor:"signature-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-800 border border-slate-700 rounded-xl text-white cursor-pointer hover:bg-slate-700 transition-colors ".concat(m?"opacity-50 cursor-not-allowed":""),children:m?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload Signature (PNG)"]})})]}),(b||(null==s?void 0:s.signature_url))&&(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"bg-white p-2 rounded-lg",children:(0,l.jsx)("img",{src:b||(null==s?void 0:s.signature_url),alt:"Signature",className:"h-12 w-auto"})}),(0,l.jsx)("button",{type:"button",onClick:N,className:"text-red-400 hover:text-red-300 transition-colors",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]}),(0,l.jsx)("div",{className:"flex items-center gap-4 mt-8",children:(0,l.jsx)("button",{type:"submit",disabled:c,className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white px-8 py-3 rounded-xl font-medium hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center gap-2",children:c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})})]})]})}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Profile Preview"}),(0,l.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center text-white text-2xl font-bold",children:(null==s?void 0:null===(t=s.name)||void 0===t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())||"?"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white font-semibold text-lg",children:(null==s?void 0:s.name)||"Your Name"}),(0,l.jsx)("div",{className:"text-slate-400 text-sm",children:null==s?void 0:s.email})]})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(null==s?void 0:s.company_code)&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-slate-500",children:"Code:"}),(0,l.jsx)("span",{className:"text-slate-300",children:s.company_code})]}),(null==s?void 0:s.vat_code)&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-slate-500",children:"VAT:"}),(0,l.jsx)("span",{className:"text-slate-300",children:s.vat_code})]}),(null==s?void 0:s.phone)&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-slate-500",children:"Phone:"}),(0,l.jsx)("span",{className:"text-slate-300",children:s.phone})]}),(null==s?void 0:s.website)&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-slate-500",children:"Web:"}),(0,l.jsx)("span",{className:"text-slate-300",children:s.website})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tips"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-slate-300 text-sm",children:"Complete your profile to have all details automatically filled in your invoices."})})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-cyan-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-slate-300 text-sm",children:"Your bank details will appear on invoices for easy payment by clients."})})]})]})]})]})]})]})}},6264:function(e,t,s){"use strict";s.d(t,{Ef:function(){return o},I8:function(){return n},N5:function(){return r},hi:function(){return a},lw:function(){return d},ot:function(){return c},yj:function(){return i}});let l="http://localhost:8000/api";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=localStorage.getItem("token"),a={headers:{"Content-Type":"application/json",Accept:"application/json",...s&&{Authorization:"Bearer ".concat(s)},...t.headers},...t},n=await fetch("".concat(l).concat(e),a);if(401===n.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");let r=await n.json();if(!n.ok)throw Error(r.message||"Something went wrong");return r}let n={register:e=>a("/register",{method:"POST",body:JSON.stringify(e)}),login:e=>a("/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>a("/logout",{method:"POST"}),user:()=>a("/user")},r={get:()=>a("/profile"),update:e=>a("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadSignature:async e=>{let t=localStorage.getItem("token"),s=new FormData;s.append("signature",e);let a=await fetch("".concat(l,"/profile/signature"),{method:"POST",headers:{Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:s});if(!a.ok)throw Error((await a.json()).message||"Upload failed");return a.json()},deleteSignature:()=>a("/profile/signature",{method:"DELETE"})},i={list:()=>a("/clients"),get:e=>a("/clients/".concat(e)),create:e=>a("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>a("/clients/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>a("/clients/".concat(e),{method:"DELETE"})},o={list:()=>a("/invoices"),listPaginated:e=>a("/invoices?".concat(e)),get:e=>a("/invoices/".concat(e)),create:e=>a("/invoices",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>a("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>a("/invoices/".concat(e),{method:"DELETE"}),pdf:e=>"".concat(l,"/invoices/").concat(e,"/pdf?token=").concat(localStorage.getItem("token"))},c={get:e=>a("/stats?period=".concat(e))},d={list:()=>a("/activity")}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=2577)}),_N_E=e.O()}]);