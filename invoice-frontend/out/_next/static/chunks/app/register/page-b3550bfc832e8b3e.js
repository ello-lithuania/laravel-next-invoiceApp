(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{2378:function(e,t,a){Promise.resolve().then(a.bind(a,795))},795:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var n=a(7437),o=a(2265),r=a(6463),s=a(7138),i=a(6264);function c(){let e=(0,r.useRouter)(),[t,a]=(0,o.useState)({name:"",email:"",password:"",password_confirmation:""}),[c,l]=(0,o.useState)(""),[d,u]=(0,o.useState)(!1),m=async a=>{a.preventDefault(),u(!0),l("");try{let a=await i.I8.register(t);localStorage.setItem("token",a.token),e.push("/dashboard")}catch(e){l(e.message)}u(!1)};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Register"}),c&&(0,n.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:c}),(0,n.jsxs)("form",{onSubmit:m,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 mb-2",children:"Name"}),(0,n.jsx)("input",{type:"text",value:t.name,onChange:e=>a({...t,name:e.target.value}),className:"w-full p-3 border rounded",required:!0})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 mb-2",children:"Email"}),(0,n.jsx)("input",{type:"email",value:t.email,onChange:e=>a({...t,email:e.target.value}),className:"w-full p-3 border rounded",required:!0})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",value:t.password,onChange:e=>a({...t,password:e.target.value}),className:"w-full p-3 border rounded",required:!0})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-gray-700 mb-2",children:"Confirm Password"}),(0,n.jsx)("input",{type:"password",value:t.password_confirmation,onChange:e=>a({...t,password_confirmation:e.target.value}),className:"w-full p-3 border rounded",required:!0})]}),(0,n.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 disabled:opacity-50",children:d?"Loading...":"Register"})]}),(0,n.jsxs)("p",{className:"mt-4 text-center",children:["Already have an account? ",(0,n.jsx)(s.default,{href:"/login",className:"text-blue-600",children:"Login"})]})]})})}},6264:function(e,t,a){"use strict";a.d(t,{Ef:function(){return c},I8:function(){return r},N5:function(){return s},hi:function(){return o},lw:function(){return d},ot:function(){return l},yj:function(){return i}});let n="http://localhost:8000/api";async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("token"),o={headers:{"Content-Type":"application/json",Accept:"application/json",...a&&{Authorization:"Bearer ".concat(a)},...t.headers},...t},r=await fetch("".concat(n).concat(e),o);if(401===r.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");let s=await r.json();if(!r.ok)throw Error(s.message||"Something went wrong");return s}let r={register:e=>o("/register",{method:"POST",body:JSON.stringify(e)}),login:e=>o("/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>o("/logout",{method:"POST"}),user:()=>o("/user")},s={get:()=>o("/profile"),update:e=>o("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadSignature:async e=>{let t=localStorage.getItem("token"),a=new FormData;a.append("signature",e);let o=await fetch("".concat(n,"/profile/signature"),{method:"POST",headers:{Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:a});if(!o.ok)throw Error((await o.json()).message||"Upload failed");return o.json()},deleteSignature:()=>o("/profile/signature",{method:"DELETE"})},i={list:()=>o("/clients"),get:e=>o("/clients/".concat(e)),create:e=>o("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>o("/clients/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>o("/clients/".concat(e),{method:"DELETE"})},c={list:()=>o("/invoices"),listPaginated:e=>o("/invoices?".concat(e)),get:e=>o("/invoices/".concat(e)),create:e=>o("/invoices",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>o("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>o("/invoices/".concat(e),{method:"DELETE"}),pdf:e=>"".concat(n,"/invoices/").concat(e,"/pdf?token=").concat(localStorage.getItem("token"))},l={get:e=>o("/stats?period=".concat(e))},d={list:()=>o("/activity")}},6463:function(e,t,a){"use strict";var n=a(1169);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=2378)}),_N_E=e.O()}]);