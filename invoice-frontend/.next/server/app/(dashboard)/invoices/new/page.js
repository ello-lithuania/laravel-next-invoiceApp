(()=>{var e={};e.id=799,e.ids=[799],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1321:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(5791),s(8032),s(5866),s(1506);var i=s(3191),n=s(8716),r=s(7922),a=s.n(r),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["(dashboard)",{children:["invoices",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5791)),"C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\(dashboard)\\invoices\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8032)),"C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\(dashboard)\\invoices\\new\\page.tsx"],u="/(dashboard)/invoices/new/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(dashboard)/invoices/new/page",pathname:"/invoices/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6527:(e,t,s)=>{Promise.resolve().then(s.bind(s,8714))},8714:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var i=s(326),n=s(7577),r=s(5047),a=s(434),o=s(6824);let l={description:"",unit:"h",quantity:1,price:0},c=()=>{let e=new Date;return e.setMonth(e.getMonth()+1),e.toISOString().split("T")[0]};function d(){let e=(0,r.useRouter)(),[t,s]=(0,n.useState)([]),[d,u]=(0,n.useState)(""),[x,p]=(0,n.useState)(!1),[m,h]=(0,n.useState)([]),[v,b]=(0,n.useState)(!0),[g,j]=(0,n.useState)(!1),[f,w]=(0,n.useState)({client_id:"",invoice_date:new Date().toISOString().split("T")[0],due_date:c(),notes:"",items:[{...l}]}),N=async t=>{t.preventDefault(),j(!0);try{let t=f.items.map(e=>e.description).filter(e=>e&&!m.includes(e));if(t.length>0){let e=[...new Set([...m,...t])];localStorage.setItem("savedDescriptions",JSON.stringify(e))}await o.Ef.create({...f,client_id:Number(f.client_id)}),e.push("/invoices")}catch(e){}j(!1)},y=e=>{w({...f,items:f.items.filter((t,s)=>s!==e)})},C=(e,t,s)=>{let i=[...f.items];i[e]={...i[e],[t]:s},w({...f,items:i})},k=t.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())).slice(0,10),_=t.find(e=>e.id===Number(f.client_id));return v?i.jsx("div",{className:"text-white p-8",children:"Loading..."}):(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[i.jsx(a.default,{href:"/invoices",className:"text-slate-400 hover:text-white transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"New Invoice"}),i.jsx("p",{className:"text-slate-400",children:"Create a new invoice"})]})]}),i.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:(0,i.jsxs)("form",{onSubmit:N,children:[(0,i.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:"Client *"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search client...",value:x?d:_?.name||"",onChange:e=>{u(e.target.value),p(!0),e.target.value||w({...f,client_id:""})},onFocus:()=>p(!0),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",required:!f.client_id}),x&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-slate-800 border border-slate-700 rounded-xl shadow-lg max-h-60 overflow-y-auto",children:0===k.length?i.jsx("div",{className:"p-3 text-slate-500",children:"No clients found"}):k.map(e=>i.jsx("div",{onClick:()=>{w({...f,client_id:String(e.id)}),u(""),p(!1)},className:"p-3 hover:bg-slate-700 cursor-pointer text-white transition-colors",children:e.name},e.id))}),x&&i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:"Invoice Date *"}),i.jsx("input",{type:"date",value:f.invoice_date,onChange:e=>w({...f,invoice_date:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:"Due Date *"}),i.jsx("input",{type:"date",value:f.due_date,onChange:e=>w({...f,due_date:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",required:!0})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-slate-400 text-sm mb-3",children:"Items"}),(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-3 mb-2 text-slate-500 text-sm",children:[i.jsx("div",{className:"col-span-5",children:"Description"}),i.jsx("div",{className:"col-span-2",children:"Unit"}),i.jsx("div",{className:"col-span-2",children:"Qty"}),i.jsx("div",{className:"col-span-2",children:"Price"}),i.jsx("div",{className:"col-span-1"})]}),i.jsx("div",{className:"space-y-3",children:f.items.map((e,t)=>(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-3",children:[i.jsx("input",{type:"text",list:"descriptions",placeholder:"Description",value:e.description,onChange:e=>C(t,"description",e.target.value),className:"col-span-5 p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",required:!0}),(0,i.jsxs)("select",{value:e.unit,onChange:e=>C(t,"unit",e.target.value),className:"col-span-2 p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",children:[i.jsx("option",{value:"h",children:"h"}),i.jsx("option",{value:"pcs",children:"pcs"}),i.jsx("option",{value:"m\xb2",children:"m\xb2"}),i.jsx("option",{value:"m",children:"m"}),i.jsx("option",{value:"kg",children:"kg"})]}),i.jsx("input",{type:"number",placeholder:"Qty",value:e.quantity,onChange:e=>C(t,"quantity",parseFloat(e.target.value)||0),className:"col-span-2 p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",min:"0",step:"0.01"}),i.jsx("input",{type:"number",placeholder:"Price",value:e.price,onChange:e=>C(t,"price",parseFloat(e.target.value)||0),className:"col-span-2 p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",min:"0",step:"0.01"}),i.jsx("button",{type:"button",onClick:()=>y(t),className:"col-span-1 flex items-center justify-center text-red-400 hover:text-red-300 transition-colors",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}),(0,i.jsxs)("button",{type:"button",onClick:()=>{w({...f,items:[...f.items,{...l}]})},className:"mt-3 text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add item"]}),i.jsx("datalist",{id:"descriptions",children:m.map((e,t)=>i.jsx("option",{value:e},t))})]}),(0,i.jsxs)("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-slate-400 text-sm mb-2",children:"Notes"}),i.jsx("textarea",{value:f.notes,onChange:e=>w({...f,notes:e.target.value}),className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",rows:2})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-white",children:["Total: ",f.items.reduce((e,t)=>e+t.quantity*t.price,0).toFixed(2)," EUR"]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[i.jsx(a.default,{href:"/invoices",className:"px-8 py-3 rounded-xl font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:g,className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white px-8 py-3 rounded-xl font-medium hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center gap-2",children:g?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Create Invoice"]})})]})]})]})})]})}},5791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>r,default:()=>o});var i=s(8570);let n=(0,i.createProxy)(String.raw`C:\wamp64\www\exercises\invoice\laravel-next-invoiceApp\invoice-frontend\app\(dashboard)\invoices\new\page.tsx`),{__esModule:r,$$typeof:a}=n;n.default;let o=(0,i.createProxy)(String.raw`C:\wamp64\www\exercises\invoice\laravel-next-invoiceApp\invoice-frontend\app\(dashboard)\invoices\new\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[819,434,435],()=>s(1321));module.exports=i})();