(()=>{var e={};e.id=972,e.ids=[972],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1250:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(8020),s(8032),s(5866),s(1506);var n=s(3191),r=s(8716),o=s(7922),i=s.n(o),a=s(5231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let c=["",{children:["(dashboard)",{children:["invoices",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8020)),"C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\(dashboard)\\invoices\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8032)),"C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\wamp64\\www\\exercises\\invoice\\laravel-next-invoiceApp\\invoice-frontend\\app\\(dashboard)\\invoices\\page.tsx"],x="/(dashboard)/invoices/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/invoices/page",pathname:"/invoices",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4896:(e,t,s)=>{Promise.resolve().then(s.bind(s,1857))},1857:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(326),r=s(7577),o=s(434),i=s(6824);function a(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,x]=(0,r.useState)(1),[h,p]=(0,r.useState)(1),[u,m]=(0,r.useState)(0),[v,b]=(0,r.useState)(""),[j,g]=(0,r.useState)(""),[f,w]=(0,r.useState)("invoice_date"),[N,y]=(0,r.useState)("desc"),k=async()=>{c(!0);try{let e=new URLSearchParams;e.set("page",String(d)),e.set("per_page","10"),e.set("sort_by",f),e.set("sort_dir",N),v&&e.set("month",v),j&&e.set("client_id",j);let s=await i.Ef.listPaginated(e.toString());t(s.data),p(s.last_page),m(s.total)}catch(e){}c(!1)},C=async e=>{confirm("Delete this invoice?")&&(await i.Ef.delete(e),k())},_=e=>{let t=localStorage.getItem("token");window.open(`http://localhost:8000/api/invoices/${e}/pdf?token=${t}`,"_blank")},S=e=>{f===e?y("asc"===N?"desc":"asc"):(w(e),y("desc")),x(1)},P=()=>{x(1)},L=({column:e})=>n.jsx("span",{className:"ml-1 inline-block",children:f===e?"asc"===N?n.jsx("svg",{className:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):n.jsx("svg",{className:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):n.jsx("svg",{className:"w-4 h-4 inline opacity-30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})});return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Invoices"}),n.jsx("p",{className:"text-slate-400",children:"Create and manage your invoices"})]}),(0,n.jsxs)(o.default,{href:"/invoices/new",className:"px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 bg-gradient-to-r from-blue-500 to-cyan-400 text-white hover:opacity-90",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Invoice"]})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:(0,n.jsxs)("select",{value:v,onChange:e=>{b(e.target.value),P()},className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",children:[n.jsx("option",{value:"",children:"All months"}),(()=>{let e=[],t=new Date;for(let s=0;s<12;s++){let n=new Date(t.getFullYear(),t.getMonth()-s,1),r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`,o=n.toLocaleDateString("en-US",{year:"numeric",month:"long"});e.push({value:r,label:o})}return e})().map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))]})}),n.jsx("div",{className:"flex-1 min-w-[200px]",children:(0,n.jsxs)("select",{value:j,onChange:e=>{g(e.target.value),P()},className:"w-full p-3 bg-slate-800 border border-slate-700 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",children:[n.jsx("option",{value:"",children:"All clients"}),s.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]})}),(v||j)&&n.jsx("button",{onClick:()=>{b(""),g(""),P()},className:"px-4 py-3 bg-slate-800 border border-slate-700 rounded-xl text-slate-400 hover:text-white hover:border-slate-600 transition-colors",children:"Clear filters"})]}),(0,n.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden",children:[(0,n.jsxs)("table",{className:"w-full",children:[n.jsx("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-slate-800",children:[(0,n.jsxs)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium cursor-pointer hover:text-white transition-colors",onClick:()=>S("number"),children:["Number ",n.jsx(L,{column:"number"})]}),(0,n.jsxs)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium cursor-pointer hover:text-white transition-colors",onClick:()=>S("client_name"),children:["Client ",n.jsx(L,{column:"client_name"})]}),(0,n.jsxs)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium cursor-pointer hover:text-white transition-colors",onClick:()=>S("invoice_date"),children:["Date ",n.jsx(L,{column:"invoice_date"})]}),(0,n.jsxs)("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium cursor-pointer hover:text-white transition-colors",onClick:()=>S("total"),children:["Total ",n.jsx(L,{column:"total"})]}),n.jsx("th",{className:"px-6 py-4 text-left text-slate-400 text-sm font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:l?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"Loading..."})}):0===e.length?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:(0,n.jsxs)("div",{className:"text-slate-500",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("p",{children:"No invoices found"}),(v||j)&&n.jsx("p",{className:"text-sm mt-1",children:"Try changing the filters"})]})})}):e.map(e=>(0,n.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-800/50 transition-colors",children:[(0,n.jsxs)("td",{className:"px-6 py-4 text-white font-medium",children:[e.series," ",e.number]}),n.jsx("td",{className:"px-6 py-4 text-slate-300",children:e.client?.name}),n.jsx("td",{className:"px-6 py-4 text-slate-300",children:e.invoice_date?.split("T")[0]}),(0,n.jsxs)("td",{className:"px-6 py-4 text-white font-medium",children:[e.total," EUR"]}),(0,n.jsxs)("td",{className:"px-6 py-4",children:[n.jsx("button",{onClick:()=>_(e.id),className:"text-green-400 hover:text-green-300 mr-4 transition-colors",children:"PDF"}),n.jsx(o.default,{href:`/invoices/edit?id=${e.id}`,className:"text-blue-400 hover:text-blue-300 mr-4 transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>C(e.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},e.id))})]}),h>1&&(0,n.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-800",children:[(0,n.jsxs)("div",{className:"text-slate-400 text-sm",children:["Showing ",e.length," of ",u," invoices"]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===d,className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,h)},(e,t)=>{let s;return s=h<=5?t+1:d<=3?t+1:d>=h-2?h-4+t:d-2+t,n.jsx("button",{onClick:()=>x(s),className:`w-10 h-10 rounded-lg font-medium transition-colors ${d===s?"bg-blue-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:s},s)})}),n.jsx("button",{onClick:()=>x(e=>Math.min(h,e+1)),disabled:d===h,className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})]})}},8020:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>a});var n=s(8570);let r=(0,n.createProxy)(String.raw`C:\wamp64\www\exercises\invoice\laravel-next-invoiceApp\invoice-frontend\app\(dashboard)\invoices\page.tsx`),{__esModule:o,$$typeof:i}=r;r.default;let a=(0,n.createProxy)(String.raw`C:\wamp64\www\exercises\invoice\laravel-next-invoiceApp\invoice-frontend\app\(dashboard)\invoices\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[819,434,435],()=>s(1250));module.exports=n})();